{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/challenge-encora-next/src/common/component/chatList.tsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\nimport { ChatType } from \"@/types/chat\";\n\ntype Props = {\n  chats: ChatType[];\n  onChatSelect: (chat: ChatType) => void;\n  onChatDelete: (chat: ChatType) => void;\n  onSearch: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onNewChat: () => void;\n};\n\nconst ChatList: React.FC<Props> = ({ chats, onChatSelect, onChatDelete, onSearch, onNewChat }) => {\n  return (\n    <section className=\"left p-4\">\n      <div className=\"logo\">\n        <h2 className=\"pb-30\">EncoraChat</h2>\n\n        <h3 \n          className=\"pb-10 cursor-pointer\"\n          onClick={onNewChat}\n        >\n          Nuevo Chat\n        </h3>\n\n        <p className=\"pb-5\">Chats</p>\n        <ul>\n          {chats?.map((chat, index) => (\n            <li key={index} className=\"flex justify-between\">\n              <a onClick={() => onChatSelect(chat)} className=\"cursor-pointer\">\n                {chat.name}\n              </a>\n              <div onClick={() => onChatDelete(chat)}>x</div>\n            </li>\n          ))}\n        </ul>\n\n        <input \n          type=\"text\" \n          placeholder=\"Buscar en historial\" \n          className=\"rounded-xl mt-20 w-80 p-2 border\"\n          onChange={onSearch}\n        />\n      </div>\n    </section>\n  );\n};\n\nexport default ChatList;"],"names":[],"mappings":";;;;AAAA;;AAYA,MAAM,WAA4B;QAAC,EAAE,KAAK,EAAE,YAAY,EAAE,YAAY,EAAE,QAAQ,EAAE,SAAS,EAAE;IAC3F,qBACE,6LAAC;QAAQ,WAAU;kBACjB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAQ;;;;;;8BAEtB,6LAAC;oBACC,WAAU;oBACV,SAAS;8BACV;;;;;;8BAID,6LAAC;oBAAE,WAAU;8BAAO;;;;;;8BACpB,6LAAC;8BACE,kBAAA,4BAAA,MAAO,GAAG,CAAC,CAAC,MAAM,sBACjB,6LAAC;4BAAe,WAAU;;8CACxB,6LAAC;oCAAE,SAAS,IAAM,aAAa;oCAAO,WAAU;8CAC7C,KAAK,IAAI;;;;;;8CAEZ,6LAAC;oCAAI,SAAS,IAAM,aAAa;8CAAO;;;;;;;2BAJjC;;;;;;;;;;8BASb,6LAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,WAAU;oBACV,UAAU;;;;;;;;;;;;;;;;;AAKpB;KAlCM;uCAoCS","debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/challenge-encora-next/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport ChatList from \"@/common/component/chatList\";\nimport { ChatType } from \"@/common/types/chat\";\nimport { useEffect, useState } from \"react\";\n\nexport default function Home() {\n  const [user, setUser] = useState<UserType | null>(null);\n  const [chats, setChats] = useState<ChatType[]>([]);\n  const [activeChat, setActiveChat] = useState<boolean>(false);\n  const [chatSelected, setChatSelected] = useState<ChatType | null>(null);\n  const [inputSearch, setInputSearch] = useState<string>(\"\");\n  const [inputConversation, setInputConversation] = useState<string>(\"\");\n\n  const getData = async () => {\n    const res = await fetch(\"/api/whoami\");\n    const data = await res.json();\n    setUser(data.data);\n  };\n\n  const getDataList = async () => {\n    const res = await fetch(\"/chats\");\n    const data = await res.json();\n    setChats(data.data);\n  };\n\n  useEffect(() => {\n    getData();\n    getDataList();  \n  }, []);\n\n  const createUser = async () => {\n    const data: ChatType = {\n      id: `conv-00${chats.length + 1}`,\n      name: inputSearch,\n      messages: [\n        { role: \"user\", content: \"How to learn Blockchain\" },\n        { role: \"encoraChat\", content: \"I have a routemap with 3 weeks for your learn Blockchain from zero.\" }\n      ]\n    };\n\n    const response = await fetch(\"/chats\", {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data),\n    });\n\n    await response.json();\n    setChats([...chats, data]);\n    setActiveChat(true);\n    setChatSelected(data);\n  };\n\n  const updateUser = () => {\n    if (!chatSelected) return;\n\n    const newMessage = [\n      { role: 'user', content: inputConversation },\n      { role: 'encoraChat', content: 'This is a simulated response from EncoraChat.' }\n    ];\n\n    setChatSelected({\n      ...chatSelected,\n      messages: [...chatSelected.messages, ...newMessage],\n    });\n    setInputConversation(\"\");\n  };\n\n  const changeChat = (chat: ChatType) => {\n    setChatSelected(chat);\n    setActiveChat(true);\n  };\n\n  const deleteChat = (chat: ChatType) => {\n    const filteredChats = chats.filter((c) => c.id !== chat.id);\n    setChats(filteredChats);\n    if (chatSelected?.id === chat.id) {\n      setActiveChat(false);\n      setChatSelected(null);\n    }\n  };\n\n  const newChat = () => {\n    setActiveChat(false);\n    setInputSearch(\"\");\n  };\n\n  const handleSearch = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') createUser();\n  };\n\n  const handleConversation = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') updateUser();\n  };\n\n  const handleInputSearchHistory = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.toLowerCase();\n    if (!value) {\n      getDataList();\n    } else {\n      setChats(chats.filter((chat) => chat.name.toLowerCase().includes(value)));\n    }\n  };\n\n  return (\n    <div className=\"font-sans flex justify-items-center h-screen\">\n      <ChatList \n        chats={chats}\n        onChatSelect={changeChat}\n        onChatDelete={deleteChat}\n        onSearch={handleInputSearchHistory}\n        onNewChat={newChat}\n      />\n      <ChatWindow \n        activeChat={activeChat}\n        chatSelected={chatSelected}\n        inputSearch={inputSearch}\n        inputConversation={inputConversation}\n        onSearchChange={(e: Event) => setInputSearch(e.target.value)}\n        onConversationChange={(e: Event) => setInputConversation(e.target.value)}\n        onSearchKeyDown={handleSearch}\n        onConversationKeyDown={handleConversation}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}